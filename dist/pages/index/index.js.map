{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./src/pages/index/index.tsx","webpack:///./node_modules/classnames/index.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./src/components/VerificationCode/index.less","webpack:///./src/components/VerificationCode/index.tsx","webpack:///./src/pages/index/index.less","webpack:///./src/pages/index/index.tsx?17f9"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","defineProperty","getOwnPropertyDescriptors","defineProperties","increment","counterStore","props","decrement","incrementAsync","counter","console","inject","observer","React","hasOwn","hasOwnProperty","classNames","classes","arg","argType","Array","isArray","inner","toString","prototype","call","join","module","exports","default","define","window","VerificationCode","inputClassNames","onFinished","onEmpty","count","useState","data","setData","focusKey","setFocusKey","inputHandle","value","tmp","concat","detail","pop","cleanCode","defaultProps","maxlength","onInput","cursorSpacing","type","getProps","num","result","focus","disabled","useEffect","map","item"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React  from 'react'\nimport { View, Button, Text } from '@tarojs/components'\nimport { observer, inject } from 'mobx-react'\nimport VerificationCode from '../../components/VerificationCode'\nimport './index.less'\n\ntype PageStateProps = {\n  store: {\n    counterStore: {\n      counter: number,\n      increment: Function,\n      decrement: Function,\n      incrementAsync: Function\n    }\n  }\n}\n\nfunction Index (props: PageStateProps, ref) {\n  const increment = () => {\n    const { counterStore } = props.store\n    counterStore.increment()\n  }\n\n  const decrement = () => {\n    const { counterStore } = props.store\n    counterStore.decrement()\n  }\n\n  const incrementAsync = () => {\n    const { counterStore } = props.store\n    counterStore.incrementAsync()\n  }\n\n  const { counterStore: { counter } } = props.store\n\n  return (\n    <View className='index'>\n        <Button onClick={increment}>+</Button>\n        <Button onClick={decrement}>-</Button>\n        <Button onClick={incrementAsync}>Add Async</Button>\n        <Text>{counter}</Text>\n        <VerificationCode onFinished={(data) => {console.log(data)}}/>\n    </View>\n  )\n}\n\nexport default inject('store')(observer(React.forwardRef(Index)))\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","// extracted by mini-css-extract-plugin","import React, { useEffect, useState }  from 'react'\nimport { View, Input } from '@tarojs/components'\nimport classNames from 'classnames'\nimport './index.less'\n\ninterface VerificationCodeProps {\n  inputClassNames?: string; // input框样式\n  onFinished?: Function; // 完成事件\n  onEmpty?: Function; // 为空时的事件\n  count?: number; // 验证码数量\n}\n\nfunction VerificationCode({inputClassNames, onFinished, onEmpty, count = 4}:VerificationCodeProps) {\n  const [data, setData] = useState([])  // 用以存储验证码\n  const [focusKey, setFocusKey] = useState(1) // 初始focus值\n\n  const inputHandle = (value:any) => {\n    const tmp = data.concat() // 不变数据流思想\n    if (value.detail.value) {\n      if (data.length === count) return  // 当验证码输满则不存储\n      const tmp = data.concat(value.detail.value)\n      setData(tmp)\n    } else {\n      // 删除逻辑\n      tmp.pop();\n      setData(tmp)\n      const key = data.length === 1 ? data.length : data.length - 1\n      setFocusKey(key)\n    }\n  }\n\n  // 清空验证码\n  const cleanCode = () => {\n    setData([])\n  }\n\n  // 输入框的默认属性\n  const defaultProps = {\n    maxlength: 1,\n    onInput: inputHandle,\n    cursorSpacing: 10,\n    type: 'number'\n  }\n\n  // 为每一个输入框制造属性\n  const getProps = (num) => {\n    const result: any = []\n    for(let i = 0; i < num; i++) {\n      result.push({\n        key: `validate${i}`,\n        focus: focusKey ===  (i+1),\n        value: data[i],\n        disabled: (i + 2 ) > num ? false : focusKey > (i+2),  // 控制输入模式\n        ...defaultProps,\n      })\n    }\n    return result\n  }\n\n  useEffect(() => {\n    // 当验证码为空时触发的事件\n    data.length === 0 && onEmpty && onEmpty();\n    // 当data更新则更新focusKey\n    data.length === focusKey && setFocusKey(data.length + 1)\n    // 当验证码输满时触发onFinished事件\n    data.length === count &&  onFinished && onFinished(data, cleanCode)\n  }, [data.length])\n\n\n  return (\n    <View className='check-wrapper'>\n      {getProps(count).map((item) => (\n        <View key={item.key} className={classNames('check-box-default', inputClassNames)}>\n          <Input {...item} />\n        </View>\n      ))}\n    </View>\n  );\n}\n\nexport default VerificationCode;\n","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/@tarojs/mini-runner/node_modules/babel-loader/lib/index.js!./index.tsx\"\nvar config = {\"navigationBarTitleText\":\"首页\"};\n\n\nvar inst = Page(createPageConfig(component, 'pages/index/index', {}, config || {}))\n\n"],"sourceRoot":""}